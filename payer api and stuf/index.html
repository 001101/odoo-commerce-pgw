<html>
    <head>
        <title>Documentation for Payer API</title>
        <link rel="stylesheet" type="text/css" href="media/style.css">
    </head>
    <body>
        <table border="0" cellspacing="0" cellpadding="0" height="48" width="100%">
            <tr>
                <td class="header_top">Payer API</td>
            </tr>
            <tr>
                <td class="header_line"><img src="../media/empty.png" width="1" height="1" border="0" alt=""  /></td>
            </tr>
            <tr>
                <td class="header_menu">Documentation last updated: 2011-04-18</td>
            </tr>
            <tr>
                <td class="header_line"><img src="../media/empty.png" width="1" height="1" border="0" alt=""  /></td>
            </tr>
        </table>
        <table width="100%" border="0" cellpadding="0" cellspacing="0">
            <tr valign="top">
                <td>
                    <table cellpadding="10" cellspacing="0" width="100%" border="0"><tr><td valign="top">
                                <h1>Class: payread_post_api</h1>
                                <table width="100%" border="0">
                                    <tr>
                                        <td valign="top">
                                            <br />
                                        </td>
                                        <td valign="top">
                                            <h3><a href="#class_methods">Methods</a></h3>
                                            <div id="methodbox">
                                                <ul style="float:left;width:300px;">
                                                    <li><a href="#methodpayread_post_api">payread_post_api</a></li>
                                                    <li><a href="#methodadd_buyer_info">add_buyer_info</a></li>
                                                    <li><a href="#methodadd_freeform_purchase">add_freeform_purchase</a></li>
                                                    <li><a href="#methodadd_freeform_purchase_ex">add_freeform_purchase_ex</a></li>
                                                    <li><a href="#methodadd_info_line">add_info_line</a></li>
                                                    <li><a href="#methodadd_payment_method">add_payment_method</a></li>
                                                    <li><a href="#methodadd_subscription_purchase">add_subscription_purchase</a></li>
                                                    <li><a href="#methodgenerate_form">generate_form</a></li>
                                                    <li><a href="#methodgenerate_form_str">generate_form_str</a></li>
                                                    <li><a href="#methodgetClientVersion">getClientVersion</a></li>
                                                    <li><a href="#methodget_agentid">get_agentid</a></li>
                                                    <li><a href="#methodget_api_version">get_api_version</a></li>
                                                    <li><a href="#methodget_checksum">get_checksum</a></li>
                                                    <li><a href="#methodget_request_url">get_request_url</a></li>
                                                    <li><a href="#methodget_xml_data">get_xml_data</a></li>
                                                    <li><a href="#methodis_valid_callback">is_valid_callback</a></li>
                                                    <li><a href="#methodis_valid_ip">is_valid_ip</a></li>
                                                    <li><a href="#methodreturn_generate_form">return_generate_form</a></li>
                                                </ul>
                                                <ul style="float:left;width:300px;">
                                                    <li><a href="#methodsetAgent">setAgent</a></li>
                                                    <li><a href="#methodsetAgentId">setAgentId</a></li>
                                                    <li><a href="#methodsetClientVersion">setClientVersion</a></li>
                                                    <li><a href="#methodsetKeys">setKeys</a></li>
                                                    <li><a href="#methodset_authorize_notification_url">set_authorize_notification_url</a></li>
                                                    <li><a href="#methodset_currency">set_currency</a></li>
                                                    <li><a href="#methodset_debug_mode">set_debug_mode</a></li>
                                                    <li><a href="#methodset_description">set_description</a></li>
                                                    <li><a href="#methodset_fee">set_fee</a></li>
                                                    <li><a href="#methodset_hide_details">set_hide_details</a></li>
                                                    <li><a href="#methodset_language">set_language</a></li>
                                                    <li><a href="#methodset_message">set_message</a></li>
                                                    <li><a href="#methodset_redirect_back_to_shop_url">set_redirect_back_to_shop_url</a></li>
                                                    <li><a href="#methodset_reference_id">set_reference_id</a></li>
                                                    <li><a href="#methodset_settle_notification_url">set_settle_notification_url</a></li>
                                                    <li><a href="#methodset_success_redirect_url">set_success_redirect_url</a></li>
                                                    <li><a href="#methodset_test_mode">set_test_mode</a></li>
                                                    <li><a href="#methodvalidate_callback_url">validate_callback_url</a></li>
                                                </ul>
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                                <hr />
                                <a name="class_details"></a>
                                <h3>Class Details</h3>
                                <div class="tags">
                                    This file contains all the methods you will need to be able to send transactions to Payer. This file should <b>NOT</b> be modified since new versions might overwrite changes made by you. If you want some changes, give a suggestion or any problem, you can contact <b>teknik@payer.se</b>.
                                    <p><b>Filename:</b> payread_post_api.php
                                        <br /><b>Latest change:</b> 2011-04-06
                                        <br /><b>Modified by:</b> bihla
                                        <br /><b>Verified by:</b> mwall
                                    </p>
                                </div><br />
                                <div class="top">[ <a href="#top">Top</a> ]</div><br />
                                <hr />
                                <a name="class_methods"></a>
                                <h3>Class Methods</h3>
                                <div class="tags">
                                    <hr />
                                    <a name="methodpayread_post_api"></a>
                                    <h3>Constructor: payread_post_api <span class="smalllinenumber">[line 72]</span></h3>
                                    <div class="function">
                                        <table width="90%" border="0" cellspacing="0" cellpadding="1">
                                            <tr>
                                                <td class="code_border">
                                                    <table width="100%" border="0" cellspacing="0" cellpadding="2">
                                                        <tr>
                                                            <td class="code">
                                                                <code>payread_post_api()</code>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table><br />
                                        <b>You will never have to call this method.</b><br />This is the default constructor, used by the API to read your authorization and default settings.<br />
                                        <h4>Tags:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td><b>return:</b>&nbsp;&nbsp;</td>
                                                    <td>nothing</td>
                                                </tr>
                                            </table>
                                        </div>
                                        <h4>Parameters:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td class="type">&nbsp;&nbsp;</td>
                                                    <td><b></b>&nbsp;&nbsp;</td>
                                                    <td></td>
                                                </tr>
                                            </table>
                                        </div><br />
                                        <div class="top">[ <a href="#top">Top</a> ]</div>
                                    </div>
                                    <hr />
                                    <a name="methodadd_buyer_info"></a>
                                    <h3>Method: add_buyer_info <span class="smalllinenumber">[line 365]</span></h3>
                                    <div class="function">
                                        <table width="90%" border="0" cellspacing="0" cellpadding="1">
                                            <tr>
                                                <td class="code_border">
                                                    <table width="100%" border="0" cellspacing="0" cellpadding="2">
                                                        <tr>
                                                            <td class="code">
                                                                <code>add_buyer_info(string
                                                                    $theFirstName, string
                                                                    $theLastName, string
                                                                    $theAddressLine1, string
                                                                    $theAddressLine2, string
                                                                    $thePostalcode, string
                                                                    $theCity, string
                                                                    $theCountryCode, string
                                                                    $thePhoneHome, string
                                                                    $thePhoneWork, string
                                                                    $thePhoneMobile, string
                                                                    $theEmail, [string
                                                                    $theOrganisation = null], [string
                                                                    $theOrgNr = null], [string
                                                                    $theCustomerId = null], [string
                                                                    $theYourReference = null], [string
                                                                    $theOptions = null])</code>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table><br />
                                        <b>This method must be called.</b><br />
                                        This method set the buyer information that will be posted to Payer. We recommend you to send all information you can. If we need to track a specific order, it will be easier if we have so much information as possible.<br />
                                        <h4>Tags:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td><b>return:</b>&nbsp;&nbsp;</td>
                                                    <td>nothing</td>
                                                </tr>
                                            </table>
                                        </div>
                                        <h4>Parameters:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td class="type">string&nbsp;&nbsp;</td>
                                                    <td><b>$theFirstName</b>&nbsp;&nbsp;</td>
                                                    <td>buyers firstname (optional)</td>
                                                </tr>
                                                <tr>
                                                    <td class="type">string&nbsp;&nbsp;</td>
                                                    <td><b>$theLastName</b>&nbsp;&nbsp;</td>
                                                    <td>buyers lastname (optional)</td>
                                                </tr>
                                                <tr>
                                                    <td class="type">string&nbsp;&nbsp;</td>
                                                    <td><b>$theAddressLine1</b>&nbsp;&nbsp;</td>
                                                    <td>buyers adressline1 (optional)</td>
                                                </tr>
                                                <tr>
                                                    <td class="type">string&nbsp;&nbsp;</td>
                                                    <td><b>$theAddressLine2</b>&nbsp;&nbsp;</td>
                                                    <td>buyers adressline1 (optional)</td>
                                                </tr>
                                                <tr>
                                                    <td class="type">string&nbsp;&nbsp;</td>
                                                    <td><b>$thePostalcode</b>&nbsp;&nbsp;</td>
                                                    <td>buyers postalcode (optional)</td>
                                                </tr>
                                                <tr>
                                                    <td class="type">string&nbsp;&nbsp;</td>
                                                    <td><b>$theCity</b>&nbsp;&nbsp;</td>
                                                    <td>buyers city (optional)</td>
                                                </tr>
                                                <tr>
                                                    <td class="type">string&nbsp;&nbsp;</td>
                                                    <td><b>$theCountryCode</b>&nbsp;&nbsp;</td>
                                                    <td>buyers countrycode (optional)</td>
                                                </tr>
                                                <tr>
                                                    <td class="type">string&nbsp;&nbsp;</td>
                                                    <td><b>$thePhoneHome</b>&nbsp;&nbsp;</td>
                                                    <td>buyers phonenumber home (optional)</td>
                                                </tr>
                                                <tr>
                                                    <td class="type">string&nbsp;&nbsp;</td>
                                                    <td><b>$thePhoneWork</b>&nbsp;&nbsp;</td>
                                                    <td>buyers phonenumber work (optional)</td>
                                                </tr>
                                                <tr>
                                                    <td class="type">string&nbsp;&nbsp;</td>
                                                    <td><b>$thePhoneMobile</b>&nbsp;&nbsp;</td>
                                                    <td>buyers phonenumber mobile (optional)</td>
                                                </tr>
                                                <tr>
                                                    <td class="type">string&nbsp;&nbsp;</td>
                                                    <td><b>$theEmail</b>&nbsp;&nbsp;</td>
                                                    <td>buyers email (optional)</td>
                                                </tr>
                                                <tr>
                                                    <td class="type">string&nbsp;&nbsp;</td>
                                                    <td><b>$theOrganisation</b>&nbsp;&nbsp;</td>
                                                    <td>name of the organisation (optional)</td>
                                                </tr>
                                                <tr>
                                                    <td class="type">string&nbsp;&nbsp;</td>
                                                    <td><b>$theOrgNr</b>&nbsp;&nbsp;</td>
                                                    <td>organisation number or social security number (personummer) (optional)</td>
                                                </tr>
                                                <tr>
                                                    <td class="type">string&nbsp;&nbsp;</td>
                                                    <td><b>$theCustomerId</b>&nbsp;&nbsp;</td>
                                                    <td>UserId at Payer (optional)</td>
                                                </tr>
                                                <tr>
                                                    <td class="type">string&nbsp;&nbsp;</td>
                                                    <td><b>$theYourReference</b>&nbsp;&nbsp;</td>
                                                    <td>Contact person at organisation/company (optional)</td>
                                                </tr>
                                                <tr>
                                                    <td class="type">string&nbsp;&nbsp;</td>
                                                    <td><b>$theOptions</b>&nbsp;&nbsp;</td>
                                                    <td>key1=value1,key2=value2 comma separated key-&gt;value pairs for special purposes (optional)</td>
                                                </tr>
                                            </table>
                                        </div><br />
                                        <div class="top">[ <a href="#top">Top</a> ]</div>
                                    </div>
                                    <hr />
                                    <a name="methodadd_freeform_purchase"></a>
                                    <h3>method add_freeform_purchase <span class="smalllinenumber">[line 255]</span></h3>
                                    <div class="function">
                                        <table width="90%" border="0" cellspacing="0" cellpadding="1">
                                            <tr>
                                                <td class="code_border">
                                                    <table width="100%" border="0" cellspacing="0" cellpadding="2">
                                                        <tr>
                                                            <td class="code">
                                                                <code>add_freeform_purchase(int
                                                                    $theLineNumber, string
                                                                    $theDescription, float
                                                                    $thePrice, float
                                                                    $theVat, int
                                                                    $theQuantity)</code>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table><br />
                                        <b>This method must be called at least one call.</b><br />This method will add a product, use this method multiple times per each product the buyer will pay for.
                                        <h4>Tags:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td><b>return:</b>&nbsp;&nbsp;</td><td>nothing</td>
                                                </tr>
                                            </table>
                                        </div>
                                        <h4>Parameters:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td class="type">int&nbsp;&nbsp;</td>
                                                    <td><b>$theLineNumber</b>&nbsp;&nbsp;</td>
                                                    <td>order of the output lines of the products bought, starting at 1. (required)(unique)</td>
                                                </tr>
                                                <tr>
                                                    <td class="type">string&nbsp;&nbsp;</td>
                                                    <td><b>$theDescription</b>&nbsp;&nbsp;</td>
                                                    <td>description of the product bought. (required)</td>
                                                </tr>
                                                <tr>
                                                    <td class="type">float&nbsp;&nbsp;</td>
                                                    <td><b>$thePrice</b>&nbsp;&nbsp;</td>
                                                    <td>price of the product bought. (required)</td>
                                                </tr>
                                                <tr>
                                                    <td class="type">float&nbsp;&nbsp;</td>
                                                    <td><b>$theVat</b>&nbsp;&nbsp;</td>
                                                    <td>vat of the product bought. (required)</td>
                                                </tr>
                                                <tr>
                                                    <td class="type">int&nbsp;&nbsp;</td>
                                                    <td><b>$theQuantity</b>&nbsp;&nbsp;</td>
                                                    <td>quantity of the product bought. (required)</td>
                                                </tr>
                                            </table>
                                        </div><br />
                                        <div class="top">[ <a href="#top">Top</a> ]</div>
                                    </div>
                                    <hr />
                                    <a name="methodadd_freeform_purchase_ex"></a>
                                    <h3>method add_freeform_purchase_ex <span class="smalllinenumber">[line 266]</span></h3>
                                    <div class="function">
                                        <table width="90%" border="0" cellspacing="0" cellpadding="1">
                                            <tr>
                                                <td class="code_border">
                                                    <table width="100%" border="0" cellspacing="0" cellpadding="2">
                                                        <tr>
                                                            <td class="code">
                                                                <code>add_freeform_purchase_ex(
                                                                	int $theLineNumber, 
                                                                	string $theDescription, 
                                                                	int $theItemNumber, 
                                                                	float $thePrice, 
                                                                	float $theVat, 
                                                                	int $theQuantity, 
                                                                	[string $theUnit = null], 
                                                                	[string $theAccount = null], 
                                                                	[string $theDistAgentId = null])</code>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table><br />
                                        <b>This method must be called at least one call.</b><br />This method will add a product, use this method multiple times per each product the buyer will pay for. Extended version of above.<br />
                                        <h4>Tags:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td><b>return:</b>&nbsp;&nbsp;</td>
                                                    <td>nothing</td>
                                                </tr>
                                            </table>
                                        </div>
                                        <h4>Parameters:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td class="type">int&nbsp;&nbsp;</td>
                                                    <td><b>$theLineNumber</b>&nbsp;&nbsp;</td>
                                                    <td>order of the output lines of the products bought, starting at 1. (required)</td>
                                                </tr>
                                                <tr>
                                                    <td class="type">string&nbsp;&nbsp;</td>
                                                    <td><b>$theDescription</b>&nbsp;&nbsp;</td>
                                                    <td>description of the product bought. (required)</td>
                                                </tr>
                                                <tr>
                                                    <td class="type">int&nbsp;&nbsp;</td>
                                                    <td><b>$theItemNumber</b>&nbsp;&nbsp;</td>
                                                    <td>description of the product bought. (required)</td>
                                                </tr>
                                                <tr>
                                                    <td class="type">float&nbsp;&nbsp;</td>
                                                    <td><b>$thePrice</b>&nbsp;&nbsp;</td>
                                                    <td>price of the product bought. (required)</td>
                                                </tr>
                                                <tr>
                                                    <td class="type">float&nbsp;&nbsp;</td>
                                                    <td><b>$theVat</b>&nbsp;&nbsp;</td>
                                                    <td>vat of the product bought. (required)</td>
                                                </tr>
                                                <tr>
                                                    <td class="type">int&nbsp;&nbsp;</td>
                                                    <td><b>$theQuantity</b>&nbsp;&nbsp;</td>
                                                    <td>quantity of the product bought. (required)</td>
                                                </tr>
                                                <tr>
                                                    <td class="type">int&nbsp;&nbsp;</td>
                                                    <td><b>$theUnit</b>&nbsp;&nbsp;</td>
                                                    <td>unit of the product bought. (optional) defaults to "st"</td>
                                                </tr>
                                                <tr>
                                                    <td class="type">int&nbsp;&nbsp;</td>
                                                    <td><b>$theAccount</b>&nbsp;&nbsp;</td>
                                                    <td>for accounting purposes. (optional)</td>
                                                </tr>
                                                <tr>
                                                    <td class="type">int&nbsp;&nbsp;</td>
                                                    <td><b>$theDistAgentId</b>&nbsp;&nbsp;</td>
                                                    <td>for money distribution to sub-agentid. (optional)</td>
                                                </tr>
                                            </table>
                                        </div><br />
                                        <div class="top">[ <a href="#top">Top</a> ]</div>
                                    </div>
                                    <hr />
                                    <a name="methodadd_info_line"></a>
                                    <h3>method add_info_line <span class="smalllinenumber">[line 339]</span></h3>
                                    <div class="function">
                                        <table width="90%" border="0" cellspacing="0" cellpadding="1">
                                            <tr>
                                                <td class="code_border">
                                                    <table width="100%" border="0" cellspacing="0" cellpadding="2">
                                                        <tr>
                                                            <td class="code">
                                                                <code>add_info_line(
                                                                	int $theLineNumber, string
                                                                    $theText)</code>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table><br />
                                        <b>This method is optional</b><br />This method will add additional information static text that the buyer will see when he goes to Payer website. Use this method multiple times per each information line.<br />
                                        <h4>Tags:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td><b>return:</b>&nbsp;&nbsp;</td>
                                                    <td>nothing</td>
                                                </tr>
                                            </table>
                                        </div>
                                        <h4>Parameters:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td class="type">int&nbsp;&nbsp;</td>
                                                    <td><b>$theLineNumber</b>&nbsp;&nbsp;</td>
                                                    <td>which product you want additional information for. (required)</td>
                                                </tr>
                                                <tr>
                                                    <td class="type">string&nbsp;&nbsp;</td>
                                                    <td><b>$theText</b>&nbsp;&nbsp;</td>
                                                    <td>the additional description of the product bought. (required)</td>
                                                </tr>
                                            </table>
                                        </div><br />
                                        <div class="top">[ <a href="#top">Top</a> ]</div>
                                    </div>
                                    <hr />
                                    <a name="methodadd_payment_method"></a>
                                    <h3>method add_payment_method <span class="smalllinenumber">[line 401]</span></h3>
                                    <div class="function">
                                        <table width="90%" border="0" cellspacing="0" cellpadding="1">
                                            <tr>
                                                <td class="code_border">
                                                    <table width="100%" border="0" cellspacing="0" cellpadding="2">
                                                        <tr>
                                                            <td class="code">
                                                                <code>add_payment_method(string
                                                                    $theMethod)</code>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table><br />
                                        <b>This method must be called.</b><br />This method will set the payment method the buyer can use to pay with.<br />
                                        <h4>Tags:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td><b>return:</b>&nbsp;&nbsp;</td>
                                                    <td>nothing</td>
                                                </tr>
                                            </table>
                                        </div>
                                        <h4>Parameters:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td class="type">string&nbsp;&nbsp;</td>
                                                    <td><b>$theMethod</b>&nbsp;&nbsp;</td>
                                                    <td>Can be set to card, bank, phone, invoice &amp; auto (required)</td>
                                                </tr>
                                            </table>
                                        </div><br />
                                        <div class="top">[ <a href="#top">Top</a> ]</div>
                                    </div>
                                    <hr />
                                    <a name="methodadd_subscription_purchase"></a>
                                    <h3>method add_subscription_purchase <span class="smalllinenumber">[line 288]</span></h3>
                                    <div class="function">
                                        <table width="90%" border="0" cellspacing="0" cellpadding="1">
                                            <tr>
                                                <td class="code_border">
                                                    <table width="100%" border="0" cellspacing="0" cellpadding="2">
                                                        <tr>
                                                            <td class="code">
                                                                <code> add_subscription_purchase(
                                                                	int $theLineNumber, 
                                                                	string $theDescription, 
                                                                	int $theItemNumber, float
                                                                    $theInitialPrice, float
                                                                    $theRecurringPrice, float
                                                                    $theVat,int
                                                                    $theQuantity, int
                                                                    $theUnit, string
                                                                    $theAccount, string
                                                                    $theStartDate, string
                                                                    $theStopDate, int
                                                                    $theCount, string
                                                                    $thePeriodicity, int
                                                                    $theCancelDays)</code>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table><br />
                                        <b>This method must be called.</b><br />This method will add a product, use this method multiple times per each product the buyer will pay for. extended version of above.<br />
                                        <h4>Tags:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td><b>return:</b>&nbsp;&nbsp;</td>
                                                    <td>nothing</td>
                                                </tr>
                                            </table>
                                        </div>
                                        <h4>Parameters:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td class="type">int&nbsp;&nbsp;</td>
                                                    <td><b>$theLineNumber</b>&nbsp;&nbsp;</td>
                                                    <td>order of the output lines of the products bought, starting at 1. (required)</td>
                                                </tr>
                                                <tr>
                                                    <td class="type">string&nbsp;&nbsp;</td>
                                                    <td><b>$theDescription</b>&nbsp;&nbsp;</td>
                                                    <td>description of the product bought. (required)</td>
                                                </tr>
                                                <tr>
                                                    <td class="type">int&nbsp;&nbsp;</td>
                                                    <td><b>$theItemNumber</b>&nbsp;&nbsp;</td>
                                                    <td></td>
                                                </tr>
                                                <tr>
                                                    <td class="type">float&nbsp;&nbsp;</td>
                                                    <td><b>$theInitialPrice</b>&nbsp;&nbsp;</td>
                                                    <td>price of the product bought. (required)</td>
                                                </tr>
                                                <tr>
                                                    <td class="type">float&nbsp;&nbsp;</td>
                                                    <td><b>$theRecurringPrice</b>&nbsp;&nbsp;</td>
                                                    <td>price of the product bought. (required)</td>
                                                </tr>
                                                <tr>
                                                    <td class="type">float&nbsp;&nbsp;</td>
                                                    <td><b>$theVat</b>&nbsp;&nbsp;</td>
                                                    <td>vat of the product bought. (required)</td>
                                                </tr>
                                                <tr>
                                                    <td class="type">int&nbsp;&nbsp;</td>
                                                    <td><b>$theQuantity</b>&nbsp;&nbsp;</td>
                                                    <td>quantity of the product bought. (required)</td>
                                                </tr>
                                                <tr>
                                                    <td class="type">string&nbsp;&nbsp;</td>
                                                    <td><b>$theUnit</b>&nbsp;&nbsp;</td>
                                                    <td></td>
                                                </tr>
                                                <tr>
                                                    <td class="type">string&nbsp;&nbsp;</td>
                                                    <td><b>$theAccount</b>&nbsp;&nbsp;</td>
                                                    <td></td>
                                                </tr>
                                                <tr>
                                                    <td class="type">string&nbsp;&nbsp;</td>
                                                    <td><b>$theStartDate</b>&nbsp;&nbsp;</td>
                                                    <td></td>
                                                </tr>
                                                <tr>
                                                    <td class="type">string&nbsp;&nbsp;</td>
                                                    <td><b>$theStopDate</b>&nbsp;&nbsp;</td>
                                                    <td></td>
                                                </tr>
                                                <tr>
                                                    <td class="type">int&nbsp;&nbsp;</td>
                                                    <td><b>$theCount</b>&nbsp;&nbsp;</td>
                                                    <td></td>
                                                </tr>
                                                <tr>
                                                    <td class="type">string&nbsp;&nbsp;</td>
                                                    <td><b>$thePeriodicity</b>&nbsp;&nbsp;</td>
                                                    <td></td>
                                                </tr>
                                                <tr>
                                                    <td class="type">int&nbsp;&nbsp;</td>
                                                    <td><b>$theCancelDays</b>&nbsp;&nbsp;</td>
                                                    <td></td>
                                                </tr>
                                            </table>
                                        </div><br />
                                        <div class="top">[ <a href="#top">Top</a> ]</div>
                                    </div>
                                    <hr />
                                    <a name="methodgenerate_form"></a>
                                    <h3>method generate_form <span class="smalllinenumber">[line 118]</span></h3>
                                    <div class="function">
                                        <table width="90%" border="0" cellspacing="0" cellpadding="1">
                                            <tr>
                                                <td class="code_border">
                                                    <table width="100%" border="0" cellspacing="0" cellpadding="2">
                                                        <tr>
                                                            <td class="code">
                                                                <code> generate_form()</code>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table><br />
                                        <b>This method is necessary</b><br />This is the method that will print out the form data with the necessary parameters as hidden fields. example:  	&lt;input type=&quot;hidden&quot; name=&quot;payer_agentid&quot; value=&quot;get_agentid()&quot;&gt;  	&lt;input type=&quot;hidden&quot; name=&quot;payer_xml_writer&quot; value=&quot;get_api_version()&quot;&gt;  	&lt;input type=&quot;hidden&quot; name=&quot;payer_data&quot; value=&quot;get_xml_data()&quot;&gt;  	&lt;input type=&quot;hidden&quot; name=&quot;payer_checksum&quot; value=&quot;get_checksum()&quot;&gt;
                                        <h4>Tags:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td><b>return:</b>&nbsp;&nbsp;</td>
                                                    <td>nothing</td>
                                                </tr>
                                            </table>
                                        </div>
                                        <h4>Parameters:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td class="type">&nbsp;&nbsp;</td>
                                                    <td><b></b>&nbsp;&nbsp;</td>
                                                    <td></td>
                                                </tr>
                                            </table>
                                        </div><br />
                                        <div class="top">[ <a href="#top">Top</a> ]</div>
                                    </div>
                                    <hr />
                                    <a name="methodgenerate_form_str"></a>
                                    <h3>method generate_form_str <span class="smalllinenumber">[line 125]</span></h3>
                                    <div class="function">
                                        <table width="90%" border="0" cellspacing="0" cellpadding="1">
                                            <tr>
                                                <td class="code_border">
                                                    <table width="100%" border="0" cellspacing="0" cellpadding="2">
                                                        <tr>
                                                            <td class="code">
                                                                <code>void generate_form_str()</code>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table><br />
                                        <b>This method is necessary</b><br />This is the method that will generate hidden fields for the method generate_form().
                                        <h4>Tags:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td><b>return:</b>&nbsp;&nbsp;</td>
                                                    <td>string</td>
                                                </tr>
                                            </table>
                                        </div>
                                        <h4>Parameters:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td class="type">&nbsp;&nbsp;</td>
                                                    <td><b></b>&nbsp;&nbsp;</td>
                                                    <td></td>
                                                </tr>
                                            </table>
                                        </div><br />
                                        <div class="top">[ <a href="#top">Top</a> ]</div>
                                    </div>
                                    <hr />
                                    <a name="methodgetClientVersion"></a>
                                    <h3>method getClientVersion <span class="smalllinenumber">[line 104]</span></h3>
                                    <div class="function">
                                        <table width="90%" border="0" cellspacing="0" cellpadding="1">
                                            <tr>
                                                <td class="code_border">
                                                    <table width="100%" border="0" cellspacing="0" cellpadding="2">
                                                        <tr>
                                                            <td class="code">
                                                                <code>void getClientVersion()</code>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table><br />
                                        <b>This method is optional.</b><br />This method return client version.
                                        <h4>Tags:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td><b>return:</b>&nbsp;&nbsp;</td>
                                                    <td>string</td>
                                                </tr>
                                            </table>
                                        </div>
                                        <h4>Parameters:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td class="type">&nbsp;&nbsp;</td>
                                                    <td><b></b>&nbsp;&nbsp;</td>
                                                    <td></td>
                                                </tr>
                                            </table>
                                        </div><br />
                                        <div class="top">[ <a href="#top">Top</a> ]</div>
                                    </div>
                                    <hr />
                                    <a name="methodget_agentid"></a>
                                    <h3>method get_agentid <span class="smalllinenumber">[line 138]</span></h3>
                                    <div class="function">
                                        <table width="90%" border="0" cellspacing="0" cellpadding="1">
                                            <tr>
                                                <td class="code_border">
                                                    <table width="100%" border="0" cellspacing="0" cellpadding="2">
                                                        <tr>
                                                            <td class="code">
                                                                <code>int get_agentid()</code>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table><br />
                                        <b>This method is optional.</b><br />This method will return your agentid (which is the identification id for your shop). It you want, you can use the generate_form() method instead and then you don't need to call this method. Otherwise you will need to put this in the hidden variable &quot;payread_agentid&quot;.<br />
                                        <h4>Tags:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td><b>return:</b>&nbsp;&nbsp;</td><td>string</td>
                                                </tr>
                                            </table>
                                        </div>
                                        <h4>Parameters:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td class="type">&nbsp;&nbsp;</td>
                                                    <td><b></b>&nbsp;&nbsp;</td>
                                                    <td></td>
                                                </tr>
                                            </table>
                                        </div><br />
                                        <div class="top">[ <a href="#top">Top</a> ]</div>
                                    </div>
                                    <hr />
                                    <a name="methodget_api_version"></a>
                                    <h3>method get_api_version <span class="smalllinenumber">[line 147]</span></h3>
                                    <div class="function">
                                        <table width="90%" border="0" cellspacing="0" cellpadding="1">
                                            <tr>
                                                <td class="code_border">
                                                    <table width="100%" border="0" cellspacing="0" cellpadding="2">
                                                        <tr>
                                                            <td class="code">
                                                                <code>string get_api_version()</code>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table><br />
                                        <b>This method is optional.</b><br />This method will return which version of the API you are using. If you want, you can use the generate_form() method instead and then you don't need to call this method.	Otherwise you will need to put this in the hidden variable &quot;payread_xml_writer&quot;.
                                        <h4>Tags:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td><b>return:</b>&nbsp;&nbsp;</td>
                                                    <td>string</td>
                                                </tr>
                                            </table>
                                        </div>
                                        <h4>Parameters:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td class="type">&nbsp;&nbsp;</td>
                                                    <td><b></b>&nbsp;&nbsp;</td>
                                                    <td></td>
                                                </tr>
                                            </table>
                                        </div><br />
                                        <div class="top">[ <a href="#top">Top</a> ]</div>
                                    </div>
                                    <hr />
                                    <a name="methodget_checksum"></a>
                                    <h3>method get_checksum <span class="smalllinenumber">[line 168]</span></h3>
                                    <div class="function">
                                        <table width="90%" border="0" cellspacing="0" cellpadding="1">
                                            <tr>
                                                <td class="code_border">
                                                    <table width="100%" border="0" cellspacing="0" cellpadding="2">
                                                        <tr>
                                                            <td class="code">
                                                                <code>string get_checksum()</code>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table><br />
                                        <b>This method is optional.</b><br />This method will return the checksum for the postdata. You need to post this checksum to Payer. If you want, you can use the generate_form() method instead and then you don't need to call this method. Otherwise you will need to put this in the hidden variable &quot;payread_checksum
                                        <h4>Tags:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td><b>return:</b>&nbsp;&nbsp;</td>
                                                    <td>string</td>
                                                </tr>
                                            </table>
                                        </div><h4>Parameters:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td class="type">&nbsp;&nbsp;</td>
                                                    <td><b></b>&nbsp;&nbsp;</td>
                                                    <td></td>
                                                </tr>
                                            </table>
                                        </div><br />
                                        <div class="top">[ <a href="#top">Top</a> ]</div>
                                    </div>
                                    <hr />
                                    <a name="methodget_request_url"></a>
                                    <h3>method get_request_url <span class="smalllinenumber">[line 505]</span></h3>
                                    <div class="function">
                                        <table width="90%" border="0" cellspacing="0" cellpadding="1">
                                            <tr>
                                                <td class="code_border">
                                                    <table width="100%" border="0" cellspacing="0" cellpadding="2">
                                                        <tr>
                                                            <td class="code">
                                                                <code>void get_request_url()</code>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table><br />
                                        <b>This method is optional.</b><br />This method return request url.
                                        <h4>Tags:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td><b>return:</b>&nbsp;&nbsp;</td>
                                                    <td>string</td>
                                                </tr>
                                            </table>
                                        </div>
                                        <h4>Parameters:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td class="type">&nbsp;&nbsp;</td>
                                                    <td><b></b>&nbsp;&nbsp;</td>
                                                    <td></td>
                                                </tr>
                                            </table>
                                        </div><br />
                                        <div class="top">[ <a href="#top">Top</a> ]</div>
                                    </div>
                                    <hr />
                                    <a name="methodget_xml_data"></a>
                                    <h3>method get_xml_data <span class="smalllinenumber">[line 157]</span></h3>
                                    <div class="function">
                                        <table width="90%" border="0" cellspacing="0" cellpadding="1">
                                            <tr>
                                                <td class="code_border">
                                                    <table width="100%" border="0" cellspacing="0" cellpadding="2">
                                                        <tr>
                                                            <td class="code">
                                                                <code>string get_xml_data()</code>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table><br />
                                        <b>This method is optional.</b><br />This method will return the xml in base64 format which needs to be posted to Payer. It you want, you can use the generate_form() method instead and then you don't need to call this method.	Otherwise you will need to put this in the hidden variable &quot;payread_data&quot;.
                                        <h4>Tags:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td><b>return:</b>&nbsp;&nbsp;</td>
                                                    <td>string</td>
                                                </tr>
                                            </table>
                                        </div>
                                        <h4>Parameters:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td class="type">&nbsp;&nbsp;</td>
                                                    <td><b></b>&nbsp;&nbsp;</td>
                                                    <td></td>
                                                </tr>
                                            </table>
                                        </div><br />
                                        <div class="top">[ <a href="#top">Top</a> ]</div>
                                    </div>
                                    <hr />
                                    <a name="methodis_valid_callback"></a>
                                    <h3>method is_valid_callback <span class="smalllinenumber">[line 547]</span></h3>
                                    <div class="function">
                                        <table width="90%" border="0" cellspacing="0" cellpadding="1">
                                            <tr>
                                                <td class="code_border">
                                                    <table width="100%" border="0" cellspacing="0" cellpadding="2">
                                                        <tr>
                                                            <td class="code">
                                                                <code>void is_valid_callback()</code>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table><br />
                                        <b>This method should be called.</b><br />This method checks if something has been changed in request, this can prevent fraud.
                                        <h4>Tags:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td><b>return:</b>&nbsp;&nbsp;</td>
                                                    <td>boolean</td>
                                                </tr>
                                            </table>
                                        </div>
                                        <h4>Parameters:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td class="type">&nbsp;&nbsp;</td>
                                                    <td><b></b>&nbsp;&nbsp;</td>
                                                    <td></td>
                                                </tr>
                                            </table>
                                        </div><br />
                                        <div class="top">[ <a href="#top">Top</a> ]</div>
                                    </div>
                                    <hr />
                                    <a name="methodis_valid_ip"></a>
                                    <h3>method is_valid_ip <span class="smalllinenumber">[line 535]</span></h3>
                                    <div class="function">
                                        <table width="90%" border="0" cellspacing="0" cellpadding="1">
                                            <tr>
                                                <td class="code_border">
                                                    <table width="100%" border="0" cellspacing="0" cellpadding="2">
                                                        <tr>
                                                            <td class="code">
                                                                <code>boolean is_valid_ip()</code>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table><br />
                                        <b>This method should be called.</b><br />This method is a <b>VERY SIMPLE</b> firewall on application level. This method will validate that the callback orginates from Payers server. This method should be called from your authorize and settle pages.
                                        <h4>Tags:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td><b>return:</b>&nbsp;&nbsp;</td>
                                                    <td>boolean</td>
                                                </tr>
                                            </table>
                                        </div>
                                        <h4>Parameters:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td class="type">&nbsp;&nbsp;</td>
                                                    <td><b></b>&nbsp;&nbsp;</td>
                                                    <td></td>
                                                </tr>
                                            </table>
                                        </div><br />
                                        <div class="top">[ <a href="#top">Top</a> ]</div>
                                    </div>
                                    <hr />
                                    <a name="methodreturn_generate_form"></a>
                                    <h3>method return_generate_form <span class="smalllinenumber">[line 121]</span></h3>
                                    <div class="function">
                                        <table width="90%" border="0" cellspacing="0" cellpadding="1">
                                            <tr>
                                                <td class="code_border">
                                                    <table width="100%" border="0" cellspacing="0" cellpadding="2">
                                                        <tr>
                                                            <td class="code">
                                                                <code>void return_generate_form()</code>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table><br />
                                        <b>This method is necessary.</b><br />This method will return generate_form().
                                        <h4>Tags:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td><b>return:</b>&nbsp;&nbsp;</td>
                                                    <td>string</td>
                                                </tr>
                                            </table>
                                        </div>
                                        <h4>Parameters:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td class="type">&nbsp;&nbsp;</td>
                                                    <td><b></b>&nbsp;&nbsp;</td>
                                                    <td></td>
                                                </tr>
                                            </table>
                                        </div><br />
                                        <div class="top">[ <a href="#top">Top</a> ]</div>
                                    </div>
                                    <hr />
                                    <a name="methodsetAgent"></a>
                                    <h3>method setAgent <span class="smalllinenumber">[line 94]</span></h3>
                                    <div class="function">
                                        <table width="90%" border="0" cellspacing="0" cellpadding="1">
                                            <tr>
                                                <td class="code_border">
                                                    <table width="100%" border="0" cellspacing="0" cellpadding="2">
                                                        <tr>
                                                            <td class="code">
                                                                <code>void setAgent(string $agentid)</code>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table><br />
                                        <b>This method is optional.</b><br />Set an AgentID with this method.
                                        <h4>Tags:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td><b>return:</b>&nbsp;&nbsp;</td>
                                                    <td>nothing</td>
                                                </tr>
                                            </table>
                                        </div>
                                        <h4>Parameters:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td class="type">string&nbsp;&nbsp;</td>
                                                    <td><b>$agentid</b>&nbsp;&nbsp;</td>
                                                    <td>your AgentID from Payer(required)</td>
                                                </tr>
                                            </table>
                                        </div><br />
                                        <div class="top">[ <a href="#top">Top</a> ]</div>
                                    </div>
                                    <hr />
                                    <a name="methodsetAgentId"></a>
                                    <h3>method setAgentId <span class="smalllinenumber">[line 87]</span></h3>
                                    <div class="function">
                                        <table width="90%" border="0" cellspacing="0" cellpadding="1">
                                            <tr>
                                                <td class="code_border">
                                                    <table width="100%" border="0" cellspacing="0" cellpadding="2">
                                                        <tr>
                                                            <td class="code">
                                                                <code>void setAgentId($agentid)</code>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table><br />
                                        <b>This method is optional.</b><br />Change AgentID with keys from file config file.
                                        <h4>Tags:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td><b>return:</b>&nbsp;&nbsp;</td>
                                                    <td>nothing</td>
                                                </tr>
                                            </table>
                                        </div>
                                        <h4>Parameters:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td class="type">string&nbsp;&nbsp;</td>
                                                    <td><b>$agentid</b>&nbsp;&nbsp;</td>
                                                    <td>your AgentID from Payer(required)</td>
                                                </tr>
                                            </table>
                                        </div><br />
                                        <div class="top">[ <a href="#top">Top</a> ]</div>
                                    </div>
                                    <hr />
                                    <a name="methodsetClientVersion"></a>
                                    <h3>method setClientVersion <span class="smalllinenumber">[line 101]</span></h3>
                                    <div class="function">
                                        <table width="90%" border="0" cellspacing="0" cellpadding="1">
                                            <tr>
                                                <td class="code_border">
                                                    <table width="100%" border="0" cellspacing="0" cellpadding="2">
                                                        <tr>
                                                            <td class="code">
                                                                <code>void setClientVersion($version)</code>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table><br />
                                        <b>This method is optional.</b><br />This method set client version.
                                        <h4>Tags:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td><b>return:</b>&nbsp;&nbsp;</td>
                                                    <td>nothing</td>
                                                </tr>
                                            </table>
                                        </div>
                                        <h4>Parameters:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td class="type">string&nbsp;&nbsp;</td>
                                                    <td><b>$version</b>&nbsp;&nbsp;</td>
                                                    <td>payer API version(required)</td>
                                                </tr>
                                            </table>
                                        </div><br />
                                        <div class="top">[ <a href="#top">Top</a> ]</div>
                                    </div>
                                    <hr />
                                    <a name="methodsetKeys"></a>
                                    <h3>method setKeys <span class="smalllinenumber">[line 97]</span></h3>
                                    <div class="function">
                                        <table width="90%" border="0" cellspacing="0" cellpadding="1">
                                            <tr>
                                                <td class="code_border">
                                                    <table width="100%" border="0" cellspacing="0" cellpadding="2">
                                                        <tr>
                                                            <td class="code">
                                                                <code>void setKeys(string $key1, string
                                                                    $key2)</code>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table><br />
                                        <b>This method is optional.</b><br />This method set keys.
                                        <h4>Tags:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td><b>return:</b>&nbsp;&nbsp;</td>
                                                    <td>nothing</td>
                                                </tr>
                                            </table>
                                        </div>
                                        <h4>Parameters:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td class="type">string&nbsp;&nbsp;</td>
                                                    <td><b>$key1</b>&nbsp;&nbsp;</td>
                                                    <td>key1 from Payer</td>
                                                </tr>
                                                <tr>
                                                    <td class="type">string&nbsp;&nbsp;</td>
                                                    <td><b>$key2</b>&nbsp;&nbsp;</td>
                                                    <td>key2 from Payer</td>
                                                </tr>
                                            </table>
                                        </div><br />
                                        <div class="top">[ <a href="#top">Top</a> ]</div>
                                    </div>
                                    <hr />
                                    <a name="methodset_authorize_notification_url"></a>
                                    <h3>method set_authorize_notification_url <span class="smalllinenumber">[line 433]</span></h3>
                                    <div class="function">
                                        <table width="90%" border="0" cellspacing="0" cellpadding="1">
                                            <tr>
                                                <td class="code_border">
                                                    <table width="100%" border="0" cellspacing="0" cellpadding="2">
                                                        <tr>
                                                            <td class="code">
                                                                <code> set_authorize_notification_url(string
                                                                    $theUrl)</code>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table><br />
                                        <b>This method must be called.</b><br />This method will set the URL where your Authorize webpage is located, remember that you will need to respond &quot;TRUE&quot; if everything is ok, or &quot;FALSE&quot; if something goes wrong, on your page.  If &quot;options&quot; is set to &quot;store=true&quot; then this URL will be used to send back the uniqReferenceId
                                        <h4>Tags:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td><b>return:</b>&nbsp;&nbsp;</td>
                                                    <td>nothing</td>
                                                </tr>
                                            </table>
                                        </div>
                                        <h4>Parameters:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td class="type">string&nbsp;&nbsp;</td>
                                                    <td><b>$theUrl</b>&nbsp;&nbsp;</td>
                                                    <td>URL to your authorize notification page. (required)</td>
                                                </tr>
                                            </table>
                                        </div><br />
                                        <div class="top">[ <a href="#top">Top</a> ]</div>
                                    </div>
                                    <hr />
                                    <a name="methodset_currency"></a>
                                    <h3>method set_currency <span class="smalllinenumber">[line 195]</span></h3>
                                    <div class="function">
                                        <table width="90%" border="0" cellspacing="0" cellpadding="1">
                                            <tr>
                                                <td class="code_border">
                                                    <table width="100%" border="0" cellspacing="0" cellpadding="2">
                                                        <tr>
                                                            <td class="code">
                                                                <code> set_currency(string
                                                                    $theCurrency)</code>
                                                            </td></tr></table>
                                                </td>
                                            </tr>
                                        </table><br />
                                        <b>This method must be called.</b><br />This method will set which currency the transaction is in. Use 3 letters in uppercase.
                                        <h4>Tags:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td><b>return:</b>&nbsp;&nbsp;</td>
                                                    <td>nothing</td>
                                                </tr>
                                            </table>
                                        </div>
                                        <h4>Parameters:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td class="type">string&nbsp;&nbsp;</td>
                                                    <td><b>$theCurrency</b>&nbsp;&nbsp;</td>
                                                    <td>3 letter uppercase currency (ie &quot;SEK&quot;) (required)</td>
                                                </tr>
                                            </table>
                                        </div><br />
                                        <div class="top">[ <a href="#top">Top</a> ]</div>
                                    </div>
                                    <hr />
                                    <a name="methodset_debug_mode"></a>
                                    <h3>method set_debug_mode <span class="smalllinenumber">[line 466]</span></h3>
                                    <div class="function">
                                        <table width="90%" border="0" cellspacing="0" cellpadding="1">
                                            <tr>
                                                <td class="code_border">
                                                    <table width="100%" border="0" cellspacing="0" cellpadding="2">
                                                        <tr>
                                                            <td class="code">
                                                                <code> set_debug_mode(string
                                                                    $theDebugMode)</code>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table><br />
                                        <b>This method is optional, default value is &quot;silent&quot;.</b><br />This method will set the debug mode, if set to verbose you will be able to see the parameters posted at the page where you enter bankcard information
                                        <h4>Tags:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td><b>return:</b>&nbsp;&nbsp;</td><td>nothing</td>
                                                </tr>
                                            </table>
                                        </div>
                                        <h4>Parameters:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td class="type">string&nbsp;&nbsp;</td>
                                                    <td><b>$theDebugMode</b>&nbsp;&nbsp;</td>
                                                    <td>debug mode, set as &quot;silent&quot;/&quot;brief&quot;/&quot;verbose&quot; (required)</td>
                                                </tr>
                                            </table>
                                        </div><br />
                                        <div class="top">[ <a href="#top">Top</a> ]</div>
                                    </div>
                                    <hr />
                                    <a name="methodset_description"></a>
                                    <h3>method set_description <span class="smalllinenumber">[line 210]</span></h3>
                                    <div class="function">
                                        <table width="90%" border="0" cellspacing="0" cellpadding="1">
                                            <tr>
                                                <td class="code_border">
                                                    <table width="100%" border="0" cellspacing="0" cellpadding="2">
                                                        <tr>
                                                            <td class="code">
                                                                <code> set_description(string
                                                                    $theDescription)</code>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table><br />
                                        <b>This method is optional</b><br />This method will set a general description of the purchase, that will be used in  various situations, e.g. in the Payer admin web, or communication with the  buyer when its impossible to present the full specification.
                                        <h4>Tags:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td><b>return:</b>&nbsp;&nbsp;</td>
                                                    <td>nothing</td>
                                                </tr>
                                            </table>
                                        </div>
                                        <h4>Parameters:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td class="type">string&nbsp;&nbsp;</td>
                                                    <td><b>$theDescription</b>&nbsp;&nbsp;</td>
                                                    <td>is one-line short description of the purchase. Notice that  this description may be truncated depending on where it is presented, the maximum length  that will be stored by Payer is 255 characters, but try to keep it below 32  characters</td>
                                                </tr>
                                            </table>
                                        </div><br />
                                        <div class="top">[ <a href="#top">Top</a> ]</div>
                                    </div>
                                    <hr />
                                    <a name="methodset_fee"></a>
                                    <h3>method set_fee <span class="smalllinenumber">[line 326]</span></h3>
                                    <div class="function">
                                        <table width="90%" border="0" cellspacing="0" cellpadding="1">
                                            <tr>
                                                <td class="code_border">
                                                    <table width="100%" border="0" cellspacing="0" cellpadding="2">
                                                        <tr>
                                                            <td class="code">
                                                                <code> set_fee(
                                                                	string $theDescription, 
                                                                	float $thePrice, 
                                                                	int $theItemNumber, 
                                                                	[float $theVat = 25], 
                                                                	[int $theQuantity = 1])</code>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table><br />
                                        <b>This method is optional</b><br />This method will add (and override) any fixed fees set from Payer website.
                                        <h4>Tags:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td><b>return:</b>&nbsp;&nbsp;</td><td>nothing</td>
                                                </tr>
                                            </table>
                                        </div>
                                        <h4>Parameters:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td class="type">string&nbsp;&nbsp;</td>
                                                    <td><b>$theDescription</b>&nbsp;&nbsp;</td>
                                                    <td>Is the fee (or discount) description</td>
                                                </tr>
                                                <tr>
                                                    <td class="type">float&nbsp;&nbsp;</td>
                                                    <td><b>$thePrice</b>&nbsp;&nbsp;</td>
                                                    <td>the fee or discount amount charged</td>
                                                </tr>
                                                <tr>
                                                    <td class="type">int&nbsp;&nbsp;</td>
                                                    <td><b>$theItemNumber</b>&nbsp;&nbsp;</td>
                                                    <td>The ItemNumber that will show up in the item number column</td>
                                                </tr>
                                                <tr>
                                                    <td class="type">float&nbsp;&nbsp;</td>
                                                    <td><b>$theVat</b>&nbsp;&nbsp;</td>
                                                    <td>The VAT percentage used to add VAT from the net price (25 std Seden)</td>
                                                </tr>
                                                <tr>
                                                    <td class="type">int&nbsp;&nbsp;</td>
                                                    <td><b>$theQuantity</b>&nbsp;&nbsp;</td>
                                                    <td>The Quantity added - normally and default &quot;1&quot;</td>
                                                </tr>
                                            </table>
                                        </div><br />
                                        <div class="top">[ <a href="#top">Top</a> ]</div>
                                    </div>
                                    <hr />
                                    <a name="methodset_hide_details"></a>
                                    <h3>method set_hide_details <span class="smalllinenumber">[line 214]</span></h3>
                                    <div class="function">
                                        <table width="90%" border="0" cellspacing="0" cellpadding="1">
                                            <tr>
                                                <td class="code_border">
                                                    <table width="100%" border="0" cellspacing="0" cellpadding="2">
                                                        <tr>
                                                            <td class="code">
                                                                <code>void set_hide_details(boolean $myHideDetails)</code>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table><br />
                                        <b>This method is optional.</b><br />
                                        The item specification list can be hidden by setting "set_hide_details" to true.
                                        <h4>Tags:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td><b>return:</b>&nbsp;&nbsp;</td><td>nothing</td>
                                                </tr>
                                            </table>
                                        </div>
                                        <h4>Parameters:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td class="type">boolean&nbsp;&nbsp;</td>
                                                    <td><b>$myHideDetails</b>&nbsp;&nbsp;</td>
                                                    <td>flag controlling visibility true|false (required)</td>
                                                </tr>
                                            </table>
                                        </div><br />
                                        <div class="top">[ <a href="#top">Top</a> ]</div>
                                    </div>
                                    <hr />
                                    <a name="methodset_language"></a>
                                    <h3>method set_language <span class="smalllinenumber">[line 500]</span></h3>
                                    <div class="function">
                                        <table width="90%" border="0" cellspacing="0" cellpadding="1">
                                            <tr>
                                                <td class="code_border">
                                                    <table width="100%" border="0" cellspacing="0" cellpadding="2">
                                                        <tr>
                                                            <td class="code">
                                                                <code> set_language(string $theLanguage)</code>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table><br />
                                        <b>This method is optional, default value is &quot;sv&quot;</b><br />This method will set which language the buyer will see when he enters bankcard information. The input should be in lowercase and you should enter language code (2 letters) not countrycode ie &quot;sv&quot; not &quot;se&quot;.
                                        <h4>Tags:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td><b>return:</b>&nbsp;&nbsp;</td>
                                                    <td>nothing</td>
                                                </tr>
                                            </table>
                                        </div>
                                        <h4>Parameters:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td class="type">string&nbsp;&nbsp;</td>
                                                    <td><b>$theLanguage</b>&nbsp;&nbsp;</td>
                                                    <td>2 letter uppercase language [ sv | en | de | dk | no | fi ] (required)</td>
                                                </tr>
                                            </table>
                                        </div><br />
                                        <div class="top">[ <a href="#top">Top</a> ]</div>
                                    </div>
                                    <hr />
                                    <a name="methodset_message"></a>
                                    <h3>method set_message <span class="smalllinenumber">[line 232]</span></h3>
                                    <div class="function">
                                        <table width="90%" border="0" cellspacing="0" cellpadding="1">
                                            <tr>
                                                <td class="code_border">
                                                    <table width="100%" border="0" cellspacing="0" cellpadding="2">
                                                        <tr>
                                                            <td class="code">
                                                                <code> set_message(string
                                                                    $theMessage)</code>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table><br />
                                        <b>This method is optional</b><br />This method will set a message for the purchase.
                                        <h4>Tags:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td><b>return:</b>&nbsp;&nbsp;</td><td>nothing</td>
                                                </tr>
                                            </table>
                                        </div>
                                        <h4>Parameters:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td class="type">string&nbsp;&nbsp;</td>
                                                    <td><b>$theMessage</b>&nbsp;&nbsp;</td>
                                                    <td>is the message. It is possible that this  string might be presented to the buyer and the merchant.</td>
                                                </tr>
                                            </table>
                                        </div><br />
                                        <div class="top">[ <a href="#top">Top</a> ]</div>
                                    </div>
                                    <hr />
                                    <a name="methodset_redirect_back_to_shop_url"></a>
                                    <h3>method set_redirect_back_to_shop_url <span class="smalllinenumber">[line 455]</span></h3>
                                    <div class="function">
                                        <table width="90%" border="0" cellspacing="0" cellpadding="1">
                                            <tr>
                                                <td class="code_border">
                                                    <table width="100%" border="0" cellspacing="0" cellpadding="2">
                                                        <tr>
                                                            <td class="code">
                                                                <code> set_redirect_back_to_shop_url(string
                                                                    $theUrl)</code>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table><br />
                                        <b>This method must be called.</b><br />This method will set the URL where your frontpage of the shop is located.
                                        <h4>Tags:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td><b>return:</b>&nbsp;&nbsp;</td><td>nothing</td>
                                                </tr>
                                            </table>
                                        </div>
                                        <h4>Parameters:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td class="type">string&nbsp;&nbsp;</td>
                                                    <td><b>$theUrl</b>&nbsp;&nbsp;</td>
                                                    <td>URL to your frontpage of the shop. (required)</td>
                                                </tr>
                                            </table>
                                        </div><br />
                                        <div class="top">[ <a href="#top">Top</a> ]</div>
                                    </div>
                                    <hr />
                                    <a name="methodset_reference_id"></a>
                                    <h3>method set_reference_id <span class="smalllinenumber">[line 223]</span></h3>
                                    <div class="function">
                                        <table width="90%" border="0" cellspacing="0" cellpadding="1">
                                            <tr>
                                                <td class="code_border">
                                                    <table width="100%" border="0" cellspacing="0" cellpadding="2">
                                                        <tr>
                                                            <td class="code">
                                                                <code> set_reference_id(string
                                                                    $theReferenceId)</code>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table><br />
                                        <b>This method is optional</b><br />This method will set a reference Id for the purchase.
                                        <h4>Tags:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td><b>return:</b>&nbsp;&nbsp;</td><td>nothing</td>
                                                </tr>
                                            </table>
                                        </div>
                                        <h4>Parameters:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td class="type">string&nbsp;&nbsp;</td>
                                                    <td><b>$theReferenceId</b>&nbsp;&nbsp;</td>
                                                    <td>is the reference Id. It is possible that this  string might be presented to the buyer.</td>
                                                </tr>
                                            </table>
                                        </div><br />
                                        <div class="top">[ <a href="#top">Top</a> ]</div>
                                    </div>
                                    <hr />
                                    <a name="methodset_settle_notification_url"></a>
                                    <h3>method set_settle_notification_url <span class="smalllinenumber">[line 444]</span></h3>
                                    <div class="function">
                                        <table width="90%" border="0" cellspacing="0" cellpadding="1">
                                            <tr>
                                                <td class="code_border">
                                                    <table width="100%" border="0" cellspacing="0" cellpadding="2">
                                                        <tr>
                                                            <td class="code">
                                                                <code> set_settle_notification_url(string
                                                                    $theUrl)</code>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table><br />
                                        <b>This method must be called.</b><br />This method will set the URL where your Settle webpage is located, remember that you will need to respond &quot;TRUE&quot; if everything is ok, or &quot;FALSE&quot; if something goes wrong, on your page.
                                        <h4>Tags:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td><b>return:</b>&nbsp;&nbsp;</td><td>nothing</td>
                                                </tr>
                                            </table>
                                        </div>
                                        <h4>Parameters:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td class="type">string&nbsp;&nbsp;</td>
                                                    <td><b>$theUrl</b>&nbsp;&nbsp;</td>
                                                    <td>URL to your settle notification page. (required)</td>
                                                </tr>
                                            </table>
                                        </div><br />
                                        <div class="top">[ <a href="#top">Top</a> ]</div>
                                    </div>
                                    <hr />
                                    <a name="methodset_success_redirect_url"></a>
                                    <h3>method set_success_redirect_url <span class="smalllinenumber">[line 421]</span></h3>
                                    <div class="function">
                                        <table width="90%" border="0" cellspacing="0" cellpadding="1">
                                            <tr>
                                                <td class="code_border">
                                                    <table width="100%" border="0" cellspacing="0" cellpadding="2">
                                                        <tr>
                                                            <td class="code">
                                                                <code> set_success_redirect_url(string
                                                                    $theUrl)</code>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table><br />
                                        <b>This method is optional</b><br />If you want the recipt to be handled by your shop, this method will set the URL where the buyer will be redirected. If you don't use this method the buyer will get a recipt on Payer server.
                                        <h4>Tags:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td><b>return:</b>&nbsp;&nbsp;</td><td>nothing</td>
                                                </tr>
                                            </table>
                                        </div>
                                        <h4>Parameters:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td class="type">string&nbsp;&nbsp;</td>
                                                    <td><b>$theUrl</b>&nbsp;&nbsp;</td>
                                                    <td>URL to your recipt if handled by shop.    (optional)</td>
                                                </tr>
                                            </table>
                                        </div><br />
                                        <div class="top">[ <a href="#top">Top</a> ]</div>
                                    </div>
                                    <hr />
                                    <a name="methodset_test_mode"></a>
                                    <h3>method set_test_mode <span class="smalllinenumber">[line 483]</span></h3>
                                    <div class="function">
                                        <table width="90%" border="0" cellspacing="0" cellpadding="1">
                                            <tr>
                                                <td class="code_border">
                                                    <table width="100%" border="0" cellspacing="0" cellpadding="2">
                                                        <tr>
                                                            <td class="code">
                                                                <code> set_test_mode(boolean $theTestMode)</code>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table><br />
                                        <b>This method is optional, default value is true</b><br />This method will set the testmode, if set to true, Payer will not contact the bank and no money will be taken from the bank account connected to the bankcard, otherwise everything will act like a real transaction.
                                        <h4>Tags:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td><b>return:</b>&nbsp;&nbsp;</td><td>nothing</td>
                                                </tr>
                                            </table>
                                        </div>
                                        <h4>Parameters:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td class="type">boolean&nbsp;&nbsp;</td>
                                                    <td><b>$theTestMode</b>&nbsp;&nbsp;</td>
                                                    <td>test mode, set as true/false (required)</td>
                                                </tr>
                                            </table>
                                        </div><br />
                                        <div class="top">[ <a href="#top">Top</a> ]</div>
                                    </div>
                                    <hr />
                                    <a name="methodvalidate_callback_url"></a>
                                    <h3>method validate_callback_url <span class="smalllinenumber">[line 516]</span></h3>
                                    <div class="function">
                                        <table width="90%" border="0" cellspacing="0" cellpadding="1">
                                            <tr>
                                                <td class="code_border">
                                                    <table width="100%" border="0" cellspacing="0" cellpadding="2">
                                                        <tr>
                                                            <td class="code">
                                                                <code>boolean validate_callback_url(string
                                                                    $theUrl)</code>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table><br />
                                        <b>This method is optional</b><br />This method will validate that the callback orginates from Payers server. This method should be called from your authorize and settle pages.
                                        <h4>Tags:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td><b>return:</b>&nbsp;&nbsp;</td><td>true/false</td>
                                                </tr>
                                            </table>
                                        </div>
                                        <h4>Parameters:</h4>
                                        <div class="tags">
                                            <table border="0" cellspacing="0" cellpadding="0">
                                                <tr>
                                                    <td class="type">string&nbsp;&nbsp;</td>
                                                    <td><b>$theUrl</b>&nbsp;&nbsp;</td>
                                                    <td>URL to be validated (required)</td>
                                                </tr>
                                            </table>
                                        </div><br />
                                        <div class="top">[ <a href="#top">Top</a> ]</div>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
    </body>
</html>